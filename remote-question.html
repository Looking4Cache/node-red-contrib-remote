<script type="text/javascript">
  RED.nodes.registerType('remote-question',{
    category: 'Remote',
    color: '#C0DEED',
    defaults: {
      confignode: {value:"", type:"remote-config",required:true},
      name: {value:""},
      questionTitle: {value:"payload.title"},
      questionTitleType: {value:"msg"},
      questionBody: {value:"payload.body"},
      questionBodyType: {value:"msg"},
    },
    inputs: 1,
    outputs: 1,
    icon: "envelope.svg",
    oneditprepare: function() {
      var node = this;
      $("#node-input-questionTitle").typedInput({
        default: 'msg',
        typeField: $("#node-input-questionTitleType"),
        types: ['msg', 'str', 'flow', 'global'],
      });
      $("#node-input-questionBody").typedInput({
        default: 'msg',
        typeField: $("#node-input-questionBodyType"),
        types: ['msg', 'str', 'flow', 'global'],
      });
    },
    label: function() {
        return this.name || "remote question";
    }
  });
</script>

<script type="text/html" data-template-name="remote-question">
  <div class="form-row">
    <label for="node-input-confignode"><i class="fa fa-tag"></i> Config</label>
    <input type="text" id="node-input-confignode" placeholder="Config">
  </div>
  <div class="form-row">
    <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
  <br>
  <div class="form-row">
    <label for="node-input-questionTitle"><i class="fa fa-tag"></i> Title</label>
    <input type="text" id="node-input-questionTitle" placeholder="">
    <input type="hidden" id="node-input-questionTitleType">
  </div>
  <div class="form-row">
    <label for="node-input-questionBody"><i class="fa fa-tag"></i> Body</label>
    <input type="text" id="node-input-questionBody" placeholder="">
    <input type="hidden" id="node-input-questionBodyType">
  </div>
</script>

<script type="text/html" data-help-name="remote">
  <p>A simple node that converts the message payloads into all lower-case characters</p>
</script>
